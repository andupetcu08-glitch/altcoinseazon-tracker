fetch('data.json?v=' + Date.now()).then(r => r.json()).then(d => {
    // Afișăm valorile macro
    document.getElementById('total-val').textContent = '$' + d.portfolio_val.toLocaleString();
    document.getElementById('mult').textContent = d.multiplier + 'x';
    document.getElementById('btc-d').textContent = d.btc_d + '%';
    document.getElementById('t3').textContent = d.total3 + 'T';
    document.getElementById('ex').textContent = d.exit + '%';

    // Iluminăm butoanele
    if(d.exit >= 75) document.getElementById('s').className = 'btn active-sell';
    else if(d.exit >= 50) document.getElementById('p').className = 'btn active-prepare';
    else document.getElementById('h').className = 'btn active-hold';

    // Generăm tabelul pentru TOATE monedele
    let rows = '';
    d.coins.forEach(c => {
        rows += `<tr>
            <td><b>${c.symbol}</b><br><small>$${c.price.toLocaleString()}</small></td>
            <td>$${c.value.toLocaleString()}</td>
            <td style="color:#888">$${c.apr} / $${c.mai}</td>
            <td>${c.progress}%</td>
            <td style="color:#00ff88"><b>${c.pot}x</b></td>
        </tr>`;
    });
    document.getElementById('rows').innerHTML = rows;
});
