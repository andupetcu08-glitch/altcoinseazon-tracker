fetch('data.json?v=' + Date.now()).then(r => r.json()).then(d => {
    // Statisici Header
    document.getElementById('total-val').textContent = '$' + d.total_val.toLocaleString();
    document.getElementById('mult').textContent = d.mult + 'x';
    document.getElementById('ex').textContent = d.exit_prob + '%';

    // INTERPRETARE SEMAFOR
    const h = document.getElementById('h'), p = document.getElementById('p'), s = document.getElementById('s');
    h.className = p.className = s.className = 'btn'; // reset

    if (d.exit_prob >= 80) {
        s.classList.add('active-hold'); // Folosim culoarea verde pentru executie
        s.textContent = 'EXECUÈšIE';
    } else if (d.exit_prob >= 50) {
        p.classList.add('active-prepare'); // Galben
    } else {
        h.classList.add('active-sell'); // Folosim clasa de rosu pentru Hold (nu iesim)
    }

    // Tabel Complet (10 monede)
    let html = '';
    d.coins.forEach(c => {
        html += `<tr>
            <td><b>${c.symbol}</b><br><small>$${c.price.toLocaleString()}</small></td>
            <td>$${c.value.toLocaleString()}</td>
            <td style="color:#888">$${c.apr} / $${c.mai}</td>
            <td style="color:#00ff88"><b>${c.pot}x</b></td>
        </tr>`;
    });
    document.getElementById('rows').innerHTML = html;
});
