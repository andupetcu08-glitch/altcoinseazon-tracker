<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { background: #0b0e14; color: white; font-family: sans-serif; padding: 20px; }
        .stat-card { background: #1a1c24; padding: 20px; border-radius: 15px; text-align: center; margin-bottom: 15px; border: 1px solid #333; }
        .exit-val { font-size: 48px; font-weight: bold; color: #00ff88; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #16181d; border-radius: 10px; overflow: hidden; }
        th { background: #222; color: #888; padding: 12px; font-size: 11px; text-align: left; }
        td { padding: 12px; border-bottom: 1px solid #222; font-size: 13px; }
        .up-bold { color: #00ff88; font-weight: bold; }
    </style>
</head>
<body>
    <div id="app">
        <div class="stat-card">
            <div style="color: #888; font-size: 12px;">EXIT PROBABILITY</div>
            <div class="exit-val" id="exit-prob">--%</div>
            <div id="regime" style="font-size: 18px; margin-top: 5px;">--</div>
        </div>
        
        <div style="display: flex; gap: 10px;">
            <div class="stat-card" style="flex: 1;">BTC.D: <b id="btc-d">--</b></div>
            <div class="stat-card" style="flex: 1;">TOTAL3: <b id="total3">--</b></div>
        </div>

        <table>
            <thead>
                <tr><th>COIN</th><th>PRICE</th><th>PROGRESS</th><th>EXIT TARGET</th><th>POTENTIAL</th></tr>
            </thead>
            <tbody id="coin-table"></tbody>
        </table>
        <p style="text-align:center; color:#444; font-size:10px;">Updated: <span id="time">--</span></p>
    </div>

    <script>
        fetch('data.json?t=' + Date.now()) // ?t= previne cache-ul browserului
        .then(r => r.json())
        .then(d => {
            document.getElementById('exit-prob').textContent = d.exit_probability + '%';
            document.getElementById('regime').textContent = 'Regime: ' + d.regime;
            document.getElementById('btc-d').textContent = d.btc_d + '%';
            document.getElementById('total3').textContent = '$' + d.total3 + 'T';
            document.getElementById('time').textContent = d.timestamp;

            let html = '';
            d.coins.forEach(c => {
                html += `<tr>
                    <td><b>${c.coin}</b></td>
                    <td>$${c.price.toLocaleString()}</td>
                    <td>${c.progress}%</td>
                    <td style="color:#aaa">$${c.target_apr} / $${c.target_mai}</td>
                    <td class="up-bold">${c.potential}x</td>
                </tr>`;
            });
            document.getElementById('coin-table').innerHTML = html;
        });
    </script>
</body>
</html>
