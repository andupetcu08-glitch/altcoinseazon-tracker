<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Altcoin Tracker PRO</title>
    <style>
        body { background: #0b0e14; color: #e1e1e1; font-family: 'Inter', sans-serif; padding: 20px; font-size: 11px; margin: 0; }
        .target-panel { background: #052e16; border: 2px solid #22c55e; padding: 15px; border-radius: 12px; margin-bottom: 20px; text-align: center; font-size: 14px; font-weight: bold; color: #fff; }
        .m-label { font-size: 10px; color: #888; text-transform: uppercase; font-weight: 800; margin-bottom: 5px; }
        .m-val { font-weight: bold; font-size: 20px; }
        .macro-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-bottom: 12px; }
        .m-card { background: #1a1c24; padding: 18px; border-radius: 10px; border: 1px solid #333; text-align: center; }
        .up { color: #00ff88; } .down { color: #ef4444; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #0f1218; border-radius: 10px; overflow: hidden; }
        th { text-align: left; color: #555; padding: 15px; border-bottom: 2px solid #222; text-transform: uppercase; font-size: 9px; }
        td { padding: 15px; border-bottom: 1px solid #1a1c24; font-size: 12px; }
        tr:hover { background: rgba(0, 255, 136, 0.05); }
        .st-btn { background: #111; border: 1px solid #333; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 9px; }
        .active-h { border-color: #ef4444 !important; color: #ef4444; box-shadow: 0 0 10px rgba(239, 68, 68, 0.2); }
        .active-s { border-color: #00ff88 !important; color: #00ff88; }
    </style>
</head>
<body>
    <div class="target-panel">ðŸŽ¯ TARGETS: BTC.D: 48-50% | ROTATION: 70% | USDTD: 5.5% | ETH/BTC: 0.055+ | ML SELL PROB: 50%</div>
    
    <div class="macro-grid" id="top-nav"></div>

    <div class="macro-grid" style="grid-template-columns: 1fr 1.5fr 1fr; margin-bottom: 15px;">
        <div class="m-card" style="border-color: #00ff88;"><div class="m-label">Portofoliu Actual</div><div id="val-eur" class="m-val up">â‚¬0</div></div>
        <div class="m-card" style="border-color: #fbbf24;"><div class="m-label">Potential Profit (MAI-FIB)</div><div id="prof-range" class="m-val" style="color:#fbbf24">â‚¬0</div></div>
        <div class="m-card"><div class="m-label">Multiplier Total</div><div id="mult-total" class="m-val">0.00x</div><div id="inv-total" style="color:#666; font-size: 9px; margin-top: 4px;"></div></div>
    </div>

    <div class="macro-grid" id="macro-r1"></div>
    <div class="macro-grid" id="macro-r2"></div>

    <table>
        <thead><tr><th>MONEDA</th><th>CANTITATE</th><th>ENTRY</th><th>TARGET APR</th><th>MULT</th><th>TARGET MAI</th><th>MULT</th><th>FINAL</th></tr></thead>
        <tbody id="rows"></tbody>
    </table>

    <script>
        async function load() {
            try {
                const r = await fetch('data.json?v=' + Date.now());
                const d = await r.json();
                const arrow = (v, t, rev=false) => (rev ? v < t : v > t) ? '<span class="up">â–²</span>' : '<span class="down">â–¼</span>';

                document.getElementById('val-eur').innerText = 'â‚¬' + d.portfolio_eur.toLocaleString();
                document.getElementById('prof-range').innerText = d.profit_range;
                document.getElementById('mult-total').innerText = (d.portfolio_eur / d.investitie_eur).toFixed(2) + 'x';
                document.getElementById('inv-total').innerText = 'Investit: â‚¬' + d.investitie_eur.toLocaleString();

                const top = [['Rotation Score', d.rotation_score+'%', 70], ['BTC.D LIVE', d.btc_d+'%', 48, true], ['ETH / BTC', d.eth_btc, 0.055], ['USDT.D LIVE', d.usdt_d+'%', 5.5, true], ['S.M.R.I', d.smri+'%', 75]];
                document.getElementById('top-nav').innerHTML = top.map(i => `
                    <div class="m-card"><div class="m-label">${i[0]}</div><div class="m-val" style="${i[0]==='Rotation Score' && parseFloat(i[1])>=70?'color:#00ff88':''}">${i[1]} ${arrow(parseFloat(i[1]), i[2], i[3])}</div></div>
                `).join('') + `
                    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:5px;">
                        <div class="st-btn ${parseFloat(d.rotation_score)<70?'active-h':''}">HOLD</div>
                        <div class="st-btn">PREPARE</div>
                        <div class="st-btn ${parseFloat(d.rotation_score)>=70?'active-s':''}">SELL</div>
                    </div>`;

                const r1 = [['TOTAL 3', d.total3, 1.2], ['SENTIMENT', d.fng, 70], ['STRENGTH', d.momentum, 0], ['VIX INDEX', d.vix, 14, true], ['URPD PROFIT', d.urpd+'%', 85]];
                const r2 = [['ML PROB', d.ml_prob+'%', 50], ['BREADTH', d.breadth, 50], ['M2 SUPPLY', d.m2, 21], ['EXHAUSTION', d.exhaustion+'%', 40, true], ['LIQUIDITY', d.liq, 0]];
                
                document.getElementById('macro-r1').innerHTML = r1.map(m => `<div class="m-card"><div class="m-label">${m[0]}</div><div class="m-val">${m[1]} ${m[2]?arrow(parseFloat(m[1]),m[2],m[3]):''}</div></div>`).join('');
                document.getElementById('macro-r2').innerHTML = r2.map(m => `<div class="m-card"><div class="m-label">${m[0]}</div><div class="m-val">${m[1]} ${m[2]?arrow(parseFloat(m[1]),m[2],m[3]):''}</div></div>`).join('');

                document.getElementById('rows').innerHTML = d.coins.map(c => `
                    <tr>
                        <td><b>${c.symbol}</b> <small class="${c.change >= 0 ? 'up':'down'}">(${c.change}%)</small><br><span style="color:#666">$${c.price.toFixed(c.price < 1 ? 4 : 2)}</span></td>
                        <td>${c.q.toLocaleString()}</td><td>$${c.entry}</td>
                        <td style="color:#fbbf24">$${c.apr}</td><td class="up">${(c.apr/c.entry).toFixed(1)}x</td>
                        <td style="color:#fbbf24">$${c.mai}</td><td class="up">${(c.mai/c.entry).toFixed(1)}x</td>
                        <td style="color:#a855f7"><b>$${c.fib}</b></td>
                    </tr>
                `).join('');
            } catch (e) { console.log("Waiting for data..."); }
        }
        load(); setInterval(load, 30000);
    </script>
</body>
</html>
